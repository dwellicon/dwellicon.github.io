<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>Simple Firebase Chat</title>
  <style>
    body { font-family: Arial, sans-serif; max-width:700px; margin:40px auto; }
    #chat { border:1px solid #ddd; height:300px; overflow:auto; padding:10px; background:#fafafa; }
    .msg { margin:6px 0; padding:6px 8px; border-radius:6px; background:#fff; box-shadow:0 1px 0 rgba(0,0,0,0.04); }
    #controls { margin-top:10px; display:flex; gap:8px; }
    input[type=text] { flex:1; padding:8px; }
  </style>
</head>
<body>

<h2>Live Chat</h2>
<div id="chat"></div>

<div id="controls">
  <input id="name" type="text" placeholder="Your name" value="Guest">
  <input id="msg" type="text" placeholder="Type a message">
  <button id="send">Send</button>
</div>

<!-- Firebase SDKs -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>

<script>
  // Replace with your Firebase config
const firebaseConfig = {
  apiKey: "AIzaSyAulcwmA2r2Z0Wv5mxyuWwQvPv05E8HvMU",
  authDomain: "dwellicon-42e72.firebaseapp.com",
  databaseURL: "https://dwellicon-42e72-default-rtdb.firebaseio.com",
  projectId: "dwellicon-42e72",
  storageBucket: "dwellicon-42e72.appspot.com",
  messagingSenderId: "634657717896",
  appId: "1:634657717896:web:27f246614fdb2c2398a93d",
  measurementId: "G-GP1YBL86RB"
};


  firebase.initializeApp(firebaseConfig);
  const db = firebase.database().ref('messages');

  const chat = document.getElementById('chat');
  const nameInput = document.getElementById('name');
  const msgInput = document.getElementById('msg');
  const sendBtn = document.getElementById('send');

  // Listen for new messages
  db.limitToLast(100).on('child_added', snap => {
    const data = snap.val();
    const el = document.createElement('div');
    el.className = 'msg';
    el.textContent = `${data.name}: ${data.text}`;
    chat.appendChild(el);
    chat.scrollTop = chat.scrollHeight;
  });

  // Send message
  sendBtn.onclick = () => {
    const text = msgInput.value.trim();
    const name = nameInput.value.trim() || 'Guest';
    if (!text) return;
    db.push({ name, text, ts: Date.now() });
    msgInput.value = '';
  };

  // Optional: send on Enter
  msgInput.addEventListener('keydown', e => { if (e.key === 'Enter') sendBtn.click(); });
</script>

</body>
</html>
